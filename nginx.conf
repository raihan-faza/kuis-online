events {
    worker_connections 1024;
}

http {
    upstream auth {
        server auth:3000;
    }
    upstream Quiz {
        server quiz-service:8080;
    }
    upstream grading {
        server grading:8000;
    }
    upstream leaderboard {
        server leaderboard:1000;
    }

    server {
        listen 5000;
        location /auth {
            proxy_pass http://auth/;
        }
        location / {
            proxy_pass http://Quiz;
        }
        location /grading-service/grade {
            proxy_pass http://grading/grade;
        }
        location /leaderboard/api {
            proxy_pass http://leaderboard/api;
        }
    }
}